// Licensed to the .NET Foundation under one or more agreements.
// The .NET Foundation licenses this file to you under the MIT license.

namespace Microsoft.EntityFrameworkCore.Query.Relationships.Projection;

public class OwnedTableSplittingReferenceProjectionNoTrackingSqlServerTest
    : OwnedTableSplittingReferenceProjectionNoTrackingRelationalTestBase<OwnedTableSplittingRelationshipsSqlServerFixture>
{
    public OwnedTableSplittingReferenceProjectionNoTrackingSqlServerTest(OwnedTableSplittingRelationshipsSqlServerFixture fixture, ITestOutputHelper testOutputHelper)
        : base(fixture)
    {
        Fixture.TestSqlLoggerFactory.Clear();
        Fixture.TestSqlLoggerFactory.SetTestOutputHelper(testOutputHelper);
    }

    public override async Task Select_root(bool async)
    {
        await base.Select_root(async);

        AssertSql(
            """
SELECT [r].[Id], [r].[Name], [r].[OptionalReferenceTrunkId], [r].[RequiredReferenceTrunkId], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[RelationshipsRootEntityId], [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsRootEntityId], [s0].[Id1], [s0].[Name], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsTrunkEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId10], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsTrunkEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId11], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsTrunkEntityId11], [s0].[Id10], [s0].[Name0], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s0].[RelationshipsBranchEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s0].[RelationshipsBranchEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s0].[RelationshipsBranchEntityId11], [s0].[Id100], [s0].[Name00], [s0].[Name1], [s0].[Name2], [s0].[Name3], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId14], [s0].[Id11], [s0].[Name4], [s0].[Name5], [s0].[Name6], [s0].[Name7], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId15], [s0].[Id12], [s0].[Name8], [s0].[Name9], [s0].[Name10], [r0].[Name], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[Id1], [s1].[Name], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[RelationshipsBranchEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s1].[RelationshipsBranchEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s1].[RelationshipsBranchEntityId11], [s1].[Id10], [s1].[Name0], [s1].[Name1], [s1].[Name2], [r1].[Name], [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r31].[Id1], [r31].[Name], [r2].[Name], [r3].[Name], [r4].[Name], [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r32].[Id1], [r32].[Name], [r5].[Name], [r6].[Name], [r7].[Name], [s2].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[Id1], [s2].[Name], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[RelationshipsBranchEntityId1], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s2].[RelationshipsBranchEntityId10], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s2].[RelationshipsBranchEntityId11], [s2].[Id10], [s2].[Name0], [s2].[Name1], [s2].[Name2], [r8].[Name], [r37].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r37].[Id1], [r37].[Name], [r9].[Name], [r10].[Name], [r11].[Name], [r38].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r38].[Id1], [r38].[Name], [r12].[Name], [r13].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_OptionalReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch] AS [r4] ON [r0].[RelationshipsRootEntityId] = [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r5] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r6] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk] AS [r7] ON [r].[Id] = [r7].[RelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch] AS [r8] ON [r7].[RelationshipsRootEntityId] = [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r9] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r10] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch] AS [r11] ON [r7].[RelationshipsRootEntityId] = [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r12] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r13] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r14].[RelationshipsRootEntityId], [r14].[Id1], [r14].[Name], [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r15].[RelationshipsTrunkEntityId1], [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId10], [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsTrunkEntityRelationshipsRootEntityId0], [r18].[RelationshipsTrunkEntityId1] AS [RelationshipsTrunkEntityId10], [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId11], [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsTrunkEntityId1] AS [RelationshipsTrunkEntityId11], [s].[Id1] AS [Id10], [s].[Name] AS [Name0], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityId10] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityId11] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s].[RelationshipsBranchEntityId11], [s].[Id10] AS [Id100], [s].[Name0] AS [Name00], [s].[Name1], [s].[Name2], [r15].[Name] AS [Name3], [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId14], [r25].[Id1] AS [Id11], [r25].[Name] AS [Name4], [r16].[Name] AS [Name5], [r17].[Name] AS [Name6], [r18].[Name] AS [Name7], [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId15], [r26].[Id1] AS [Id12], [r26].[Name] AS [Name8], [r19].[Name] AS [Name9], [r20].[Name] AS [Name10]
    FROM [Root_CollectionTrunk] AS [r14]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch] AS [r15] ON [r14].[RelationshipsRootEntityId] = [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r15].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r16] ON [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r15].[RelationshipsTrunkEntityId1] = [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r17] ON [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r15].[RelationshipsTrunkEntityId1] = [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch] AS [r18] ON [r14].[RelationshipsRootEntityId] = [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r18].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r19] ON [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r18].[RelationshipsTrunkEntityId1] = [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r20] ON [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r18].[RelationshipsTrunkEntityId1] = [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN (
        SELECT [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r21].[RelationshipsTrunkEntityId1], [r21].[Id1], [r21].[Name], [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [r22].[RelationshipsBranchEntityId1], [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId10], [r23].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r24].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r24].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId11], [r24].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r24].[Id1] AS [Id10], [r24].[Name] AS [Name0], [r22].[Name] AS [Name1], [r23].[Name] AS [Name2]
        FROM [Root_CollectionTrunk_CollectionBranch] AS [r21]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r22] ON [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r21].[RelationshipsTrunkEntityId1] = [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r21].[Id1] = [r22].[RelationshipsBranchEntityId1]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r23] ON [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r21].[RelationshipsTrunkEntityId1] = [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r21].[Id1] = [r23].[RelationshipsBranchEntityId1]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_CollectionLeaf] AS [r24] ON [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r24].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r21].[RelationshipsTrunkEntityId1] = [r24].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r21].[Id1] = [r24].[RelationshipsBranchEntityId1]
    ) AS [s] ON [r14].[RelationshipsRootEntityId] = [s].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [s].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r25] ON [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r15].[RelationshipsTrunkEntityId1] = [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r26] ON [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r18].[RelationshipsTrunkEntityId1] = [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
) AS [s0] ON [r].[Id] = [s0].[RelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r27].[Id1], [r27].[Name], [r28].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r28].[RelationshipsBranchEntityId1], [r29].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r29].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r30].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r30].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r30].[Id1] AS [Id10], [r30].[Name] AS [Name0], [r28].[Name] AS [Name1], [r29].[Name] AS [Name2]
    FROM [Root_OptionalReferenceTrunk_CollectionBranch] AS [r27]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r28] ON [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r28].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r27].[Id1] = [r28].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r29] ON [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r29].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r27].[Id1] = [r29].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r30] ON [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r30].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r27].[Id1] = [r30].[RelationshipsBranchEntityId1]
) AS [s1] ON [r0].[RelationshipsRootEntityId] = [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r31] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r32] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r33].[Id1], [r33].[Name], [r34].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r34].[RelationshipsBranchEntityId1], [r35].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r35].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r36].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r36].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r36].[Id1] AS [Id10], [r36].[Name] AS [Name0], [r34].[Name] AS [Name1], [r35].[Name] AS [Name2]
    FROM [Root_RequiredReferenceTrunk_CollectionBranch] AS [r33]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r34] ON [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r34].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r33].[Id1] = [r34].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r35] ON [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r35].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r33].[Id1] = [r35].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r36] ON [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r36].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r33].[Id1] = [r36].[RelationshipsBranchEntityId1]
) AS [s2] ON [r7].[RelationshipsRootEntityId] = [s2].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r37] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r37].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r38] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r38].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[RelationshipsRootEntityId], [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsRootEntityId], [s0].[Id1], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsTrunkEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId10], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsTrunkEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId11], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsTrunkEntityId11], [s0].[Id10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s0].[RelationshipsBranchEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s0].[RelationshipsBranchEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s0].[RelationshipsBranchEntityId11], [s0].[Id100], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId14], [s0].[Id11], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId15], [s0].[Id12], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[Id1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[RelationshipsBranchEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s1].[RelationshipsBranchEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s1].[RelationshipsBranchEntityId11], [s1].[Id10], [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r31].[Id1], [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r32].[Id1], [s2].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[Id1], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[RelationshipsBranchEntityId1], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s2].[RelationshipsBranchEntityId10], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s2].[RelationshipsBranchEntityId11], [s2].[Id10], [r37].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r37].[Id1], [r38].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_trunk_optional(bool async)
    {
        await base.Select_trunk_optional(async);

        AssertSql(
            """
SELECT [r0].[RelationshipsRootEntityId], [r0].[Name], [r].[Id], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[Name], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [s].[Name0], [s].[Name1], [s].[Name2], [r1].[Name], [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[Id1], [r11].[Name], [r2].[Name], [r3].[Name], [r4].[Name], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[Id1], [r12].[Name], [r5].[Name], [r6].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_OptionalReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch] AS [r4] ON [r0].[RelationshipsRootEntityId] = [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r5] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r6] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[Id1], [r7].[Name], [r8].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r8].[RelationshipsBranchEntityId1], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r9].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r10].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r10].[Id1] AS [Id10], [r10].[Name] AS [Name0], [r8].[Name] AS [Name1], [r9].[Name] AS [Name2]
    FROM [Root_OptionalReferenceTrunk_CollectionBranch] AS [r7]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r8] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r8].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r8].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r9] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r9].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r10] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r10].[RelationshipsBranchEntityId1]
) AS [s] ON [r0].[RelationshipsRootEntityId] = [s].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r11] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r12] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[Id1], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_trunk_required(bool async)
    {
        await base.Select_trunk_required(async);

        AssertSql(
            """
SELECT [r0].[RelationshipsRootEntityId], [r0].[Name], [r].[Id], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[Name], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [s].[Name0], [s].[Name1], [s].[Name2], [r1].[Name], [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[Id1], [r11].[Name], [r2].[Name], [r3].[Name], [r4].[Name], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[Id1], [r12].[Name], [r5].[Name], [r6].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_RequiredReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch] AS [r4] ON [r0].[RelationshipsRootEntityId] = [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r5] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r6] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[Id1], [r7].[Name], [r8].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r8].[RelationshipsBranchEntityId1], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r9].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r10].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r10].[Id1] AS [Id10], [r10].[Name] AS [Name0], [r8].[Name] AS [Name1], [r9].[Name] AS [Name2]
    FROM [Root_RequiredReferenceTrunk_CollectionBranch] AS [r7]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r8] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r8].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r8].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r9] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r9].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r10] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r10].[RelationshipsBranchEntityId1]
) AS [s] ON [r0].[RelationshipsRootEntityId] = [s].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r11] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r12] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[Id1], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_branch_required_required(bool async)
    {
        await base.Select_branch_required_required(async);

        AssertSql(
            """
SELECT [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r1].[Name], [r].[Id], [r0].[RelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[Id1], [r4].[Name], [r2].[Name], [r3].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_RequiredReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r4] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_branch_required_optional(bool async)
    {
        await base.Select_branch_required_optional(async);

        AssertSql(
            """
SELECT [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r1].[Name], [r].[Id], [r0].[RelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[Id1], [r4].[Name], [r2].[Name], [r3].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_RequiredReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r4] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_branch_optional_required(bool async)
    {
        await base.Select_branch_optional_required(async);

        AssertSql(
            """
SELECT [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r1].[Name], [r].[Id], [r0].[RelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[Id1], [r4].[Name], [r2].[Name], [r3].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_RequiredReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r4] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_branch_optional_optional(bool async)
    {
        await base.Select_branch_optional_optional(async);

        AssertSql(
            """
SELECT [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r1].[Name], [r].[Id], [r0].[RelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[Id1], [r4].[Name], [r2].[Name], [r3].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_RequiredReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r4] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_root_duplicated(bool async)
    {
        await base.Select_root_duplicated(async);

        AssertSql(
            """
SELECT [r].[Id], [r].[Name], [r].[OptionalReferenceTrunkId], [r].[RequiredReferenceTrunkId], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[RelationshipsRootEntityId], [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsRootEntityId], [s0].[Id1], [s0].[Name], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsTrunkEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId10], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsTrunkEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId11], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsTrunkEntityId11], [s0].[Id10], [s0].[Name0], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s0].[RelationshipsBranchEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s0].[RelationshipsBranchEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s0].[RelationshipsBranchEntityId11], [s0].[Id100], [s0].[Name00], [s0].[Name1], [s0].[Name2], [s0].[Name3], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId14], [s0].[Id11], [s0].[Name4], [s0].[Name5], [s0].[Name6], [s0].[Name7], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId15], [s0].[Id12], [s0].[Name8], [s0].[Name9], [s0].[Name10], [r0].[Name], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[Id1], [s1].[Name], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[RelationshipsBranchEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s1].[RelationshipsBranchEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s1].[RelationshipsBranchEntityId11], [s1].[Id10], [s1].[Name0], [s1].[Name1], [s1].[Name2], [r1].[Name], [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r31].[Id1], [r31].[Name], [r2].[Name], [r3].[Name], [r4].[Name], [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r32].[Id1], [r32].[Name], [r5].[Name], [r6].[Name], [r7].[Name], [s2].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[Id1], [s2].[Name], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[RelationshipsBranchEntityId1], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s2].[RelationshipsBranchEntityId10], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s2].[RelationshipsBranchEntityId11], [s2].[Id10], [s2].[Name0], [s2].[Name1], [s2].[Name2], [r8].[Name], [r37].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r37].[Id1], [r37].[Name], [r9].[Name], [r10].[Name], [r11].[Name], [r38].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r38].[Id1], [r38].[Name], [r12].[Name], [r13].[Name], [s4].[RelationshipsRootEntityId], [s4].[Id1], [s4].[Name], [s4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s4].[RelationshipsTrunkEntityId1], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId10], [s4].[RelationshipsTrunkEntityRelationshipsRootEntityId0], [s4].[RelationshipsTrunkEntityId10], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId11], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s4].[RelationshipsTrunkEntityRelationshipsRootEntityId1], [s4].[RelationshipsTrunkEntityId11], [s4].[Id10], [s4].[Name0], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s4].[RelationshipsBranchEntityId1], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s4].[RelationshipsBranchEntityId10], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s4].[RelationshipsBranchEntityId11], [s4].[Id100], [s4].[Name00], [s4].[Name1], [s4].[Name2], [s4].[Name3], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId14], [s4].[Id11], [s4].[Name4], [s4].[Name5], [s4].[Name6], [s4].[Name7], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId15], [s4].[Id12], [s4].[Name8], [s4].[Name9], [s4].[Name10], [s5].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s5].[Id1], [s5].[Name], [s5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s5].[RelationshipsBranchEntityId1], [s5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s5].[RelationshipsBranchEntityId10], [s5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s5].[RelationshipsBranchEntityId11], [s5].[Id10], [s5].[Name0], [s5].[Name1], [s5].[Name2], [r56].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r56].[Id1], [r56].[Name], [r57].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r57].[Id1], [r57].[Name], [s6].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s6].[Id1], [s6].[Name], [s6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s6].[RelationshipsBranchEntityId1], [s6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s6].[RelationshipsBranchEntityId10], [s6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s6].[RelationshipsBranchEntityId11], [s6].[Id10], [s6].[Name0], [s6].[Name1], [s6].[Name2], [r62].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r62].[Id1], [r62].[Name], [r63].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r63].[Id1], [r63].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_OptionalReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch] AS [r4] ON [r0].[RelationshipsRootEntityId] = [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r5] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r6] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk] AS [r7] ON [r].[Id] = [r7].[RelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch] AS [r8] ON [r7].[RelationshipsRootEntityId] = [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r9] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r10] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch] AS [r11] ON [r7].[RelationshipsRootEntityId] = [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r12] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r13] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r14].[RelationshipsRootEntityId], [r14].[Id1], [r14].[Name], [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r15].[RelationshipsTrunkEntityId1], [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId10], [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsTrunkEntityRelationshipsRootEntityId0], [r18].[RelationshipsTrunkEntityId1] AS [RelationshipsTrunkEntityId10], [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId11], [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsTrunkEntityId1] AS [RelationshipsTrunkEntityId11], [s].[Id1] AS [Id10], [s].[Name] AS [Name0], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityId10] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityId11] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s].[RelationshipsBranchEntityId11], [s].[Id10] AS [Id100], [s].[Name0] AS [Name00], [s].[Name1], [s].[Name2], [r15].[Name] AS [Name3], [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId14], [r25].[Id1] AS [Id11], [r25].[Name] AS [Name4], [r16].[Name] AS [Name5], [r17].[Name] AS [Name6], [r18].[Name] AS [Name7], [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId15], [r26].[Id1] AS [Id12], [r26].[Name] AS [Name8], [r19].[Name] AS [Name9], [r20].[Name] AS [Name10]
    FROM [Root_CollectionTrunk] AS [r14]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch] AS [r15] ON [r14].[RelationshipsRootEntityId] = [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r15].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r16] ON [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r15].[RelationshipsTrunkEntityId1] = [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r17] ON [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r15].[RelationshipsTrunkEntityId1] = [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch] AS [r18] ON [r14].[RelationshipsRootEntityId] = [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r18].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r19] ON [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r18].[RelationshipsTrunkEntityId1] = [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r20] ON [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r18].[RelationshipsTrunkEntityId1] = [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN (
        SELECT [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r21].[RelationshipsTrunkEntityId1], [r21].[Id1], [r21].[Name], [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [r22].[RelationshipsBranchEntityId1], [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId10], [r23].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r24].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r24].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId11], [r24].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r24].[Id1] AS [Id10], [r24].[Name] AS [Name0], [r22].[Name] AS [Name1], [r23].[Name] AS [Name2]
        FROM [Root_CollectionTrunk_CollectionBranch] AS [r21]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r22] ON [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r21].[RelationshipsTrunkEntityId1] = [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r21].[Id1] = [r22].[RelationshipsBranchEntityId1]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r23] ON [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r21].[RelationshipsTrunkEntityId1] = [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r21].[Id1] = [r23].[RelationshipsBranchEntityId1]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_CollectionLeaf] AS [r24] ON [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r24].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r21].[RelationshipsTrunkEntityId1] = [r24].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r21].[Id1] = [r24].[RelationshipsBranchEntityId1]
    ) AS [s] ON [r14].[RelationshipsRootEntityId] = [s].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [s].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r25] ON [r15].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r15].[RelationshipsTrunkEntityId1] = [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r26] ON [r18].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r18].[RelationshipsTrunkEntityId1] = [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
) AS [s0] ON [r].[Id] = [s0].[RelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r27].[Id1], [r27].[Name], [r28].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r28].[RelationshipsBranchEntityId1], [r29].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r29].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r30].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r30].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r30].[Id1] AS [Id10], [r30].[Name] AS [Name0], [r28].[Name] AS [Name1], [r29].[Name] AS [Name2]
    FROM [Root_OptionalReferenceTrunk_CollectionBranch] AS [r27]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r28] ON [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r28].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r27].[Id1] = [r28].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r29] ON [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r29].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r27].[Id1] = [r29].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r30] ON [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r30].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r27].[Id1] = [r30].[RelationshipsBranchEntityId1]
) AS [s1] ON [r0].[RelationshipsRootEntityId] = [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r31] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r32] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r33].[Id1], [r33].[Name], [r34].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r34].[RelationshipsBranchEntityId1], [r35].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r35].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r36].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r36].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r36].[Id1] AS [Id10], [r36].[Name] AS [Name0], [r34].[Name] AS [Name1], [r35].[Name] AS [Name2]
    FROM [Root_RequiredReferenceTrunk_CollectionBranch] AS [r33]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r34] ON [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r34].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r33].[Id1] = [r34].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r35] ON [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r35].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r33].[Id1] = [r35].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r36] ON [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r36].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r33].[Id1] = [r36].[RelationshipsBranchEntityId1]
) AS [s2] ON [r7].[RelationshipsRootEntityId] = [s2].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r37] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r37].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r38] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r38].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r39].[RelationshipsRootEntityId], [r39].[Id1], [r39].[Name], [r40].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r40].[RelationshipsTrunkEntityId1], [r41].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r41].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [r42].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r42].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId10], [r43].[RelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsTrunkEntityRelationshipsRootEntityId0], [r43].[RelationshipsTrunkEntityId1] AS [RelationshipsTrunkEntityId10], [r44].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r44].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId11], [r45].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [r45].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s3].[RelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsTrunkEntityRelationshipsRootEntityId1], [s3].[RelationshipsTrunkEntityId1] AS [RelationshipsTrunkEntityId11], [s3].[Id1] AS [Id10], [s3].[Name] AS [Name0], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s3].[RelationshipsBranchEntityId1], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityId10] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s3].[RelationshipsBranchEntityId10], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityId11] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s3].[RelationshipsBranchEntityId11], [s3].[Id10] AS [Id100], [s3].[Name0] AS [Name00], [s3].[Name1], [s3].[Name2], [r40].[Name] AS [Name3], [r50].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [r50].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId14], [r50].[Id1] AS [Id11], [r50].[Name] AS [Name4], [r41].[Name] AS [Name5], [r42].[Name] AS [Name6], [r43].[Name] AS [Name7], [r51].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [r51].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId15], [r51].[Id1] AS [Id12], [r51].[Name] AS [Name8], [r44].[Name] AS [Name9], [r45].[Name] AS [Name10]
    FROM [Root_CollectionTrunk] AS [r39]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch] AS [r40] ON [r39].[RelationshipsRootEntityId] = [r40].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r39].[Id1] = [r40].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r41] ON [r40].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r41].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r40].[RelationshipsTrunkEntityId1] = [r41].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r42] ON [r40].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r42].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r40].[RelationshipsTrunkEntityId1] = [r42].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch] AS [r43] ON [r39].[RelationshipsRootEntityId] = [r43].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r39].[Id1] = [r43].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r44] ON [r43].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r44].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r43].[RelationshipsTrunkEntityId1] = [r44].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r45] ON [r43].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r45].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r43].[RelationshipsTrunkEntityId1] = [r45].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN (
        SELECT [r46].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r46].[RelationshipsTrunkEntityId1], [r46].[Id1], [r46].[Name], [r47].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r47].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [r47].[RelationshipsBranchEntityId1], [r48].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r48].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId10], [r48].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r49].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r49].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId11], [r49].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r49].[Id1] AS [Id10], [r49].[Name] AS [Name0], [r47].[Name] AS [Name1], [r48].[Name] AS [Name2]
        FROM [Root_CollectionTrunk_CollectionBranch] AS [r46]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r47] ON [r46].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r47].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r46].[RelationshipsTrunkEntityId1] = [r47].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r46].[Id1] = [r47].[RelationshipsBranchEntityId1]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r48] ON [r46].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r48].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r46].[RelationshipsTrunkEntityId1] = [r48].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r46].[Id1] = [r48].[RelationshipsBranchEntityId1]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_CollectionLeaf] AS [r49] ON [r46].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r49].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r46].[RelationshipsTrunkEntityId1] = [r49].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r46].[Id1] = [r49].[RelationshipsBranchEntityId1]
    ) AS [s3] ON [r39].[RelationshipsRootEntityId] = [s3].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r39].[Id1] = [s3].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r50] ON [r40].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r50].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r40].[RelationshipsTrunkEntityId1] = [r50].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r51] ON [r43].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r51].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r43].[RelationshipsTrunkEntityId1] = [r51].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
) AS [s4] ON [r].[Id] = [s4].[RelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r52].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r52].[Id1], [r52].[Name], [r53].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r53].[RelationshipsBranchEntityId1], [r54].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r54].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r55].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r55].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r55].[Id1] AS [Id10], [r55].[Name] AS [Name0], [r53].[Name] AS [Name1], [r54].[Name] AS [Name2]
    FROM [Root_OptionalReferenceTrunk_CollectionBranch] AS [r52]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r53] ON [r52].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r53].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r52].[Id1] = [r53].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r54] ON [r52].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r54].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r52].[Id1] = [r54].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r55] ON [r52].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r55].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r52].[Id1] = [r55].[RelationshipsBranchEntityId1]
) AS [s5] ON [r0].[RelationshipsRootEntityId] = [s5].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r56] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r56].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r57] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r57].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r58].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r58].[Id1], [r58].[Name], [r59].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r59].[RelationshipsBranchEntityId1], [r60].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r60].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r61].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r61].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r61].[Id1] AS [Id10], [r61].[Name] AS [Name0], [r59].[Name] AS [Name1], [r60].[Name] AS [Name2]
    FROM [Root_RequiredReferenceTrunk_CollectionBranch] AS [r58]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r59] ON [r58].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r59].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r58].[Id1] = [r59].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r60] ON [r58].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r60].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r58].[Id1] = [r60].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r61] ON [r58].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r61].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r58].[Id1] = [r61].[RelationshipsBranchEntityId1]
) AS [s6] ON [r7].[RelationshipsRootEntityId] = [s6].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r62] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r62].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r63] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r63].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[RelationshipsRootEntityId], [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsRootEntityId], [s0].[Id1], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsTrunkEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId10], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsTrunkEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId11], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsTrunkEntityId11], [s0].[Id10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s0].[RelationshipsBranchEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s0].[RelationshipsBranchEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s0].[RelationshipsBranchEntityId11], [s0].[Id100], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId14], [s0].[Id11], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId15], [s0].[Id12], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[Id1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[RelationshipsBranchEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s1].[RelationshipsBranchEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s1].[RelationshipsBranchEntityId11], [s1].[Id10], [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r31].[Id1], [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r32].[Id1], [s2].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[Id1], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[RelationshipsBranchEntityId1], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s2].[RelationshipsBranchEntityId10], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s2].[RelationshipsBranchEntityId11], [s2].[Id10], [r37].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r37].[Id1], [r38].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r38].[Id1], [s4].[RelationshipsRootEntityId], [s4].[Id1], [s4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s4].[RelationshipsTrunkEntityId1], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId10], [s4].[RelationshipsTrunkEntityRelationshipsRootEntityId0], [s4].[RelationshipsTrunkEntityId10], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId11], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s4].[RelationshipsTrunkEntityRelationshipsRootEntityId1], [s4].[RelationshipsTrunkEntityId11], [s4].[Id10], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s4].[RelationshipsBranchEntityId1], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s4].[RelationshipsBranchEntityId10], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s4].[RelationshipsBranchEntityId11], [s4].[Id100], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId14], [s4].[Id11], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [s4].[RelationshipsBranchEntityRelationshipsTrunkEntityId15], [s4].[Id12], [s5].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s5].[Id1], [s5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s5].[RelationshipsBranchEntityId1], [s5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s5].[RelationshipsBranchEntityId10], [s5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s5].[RelationshipsBranchEntityId11], [s5].[Id10], [r56].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r56].[Id1], [r57].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r57].[Id1], [s6].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s6].[Id1], [s6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s6].[RelationshipsBranchEntityId1], [s6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s6].[RelationshipsBranchEntityId10], [s6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s6].[RelationshipsBranchEntityId11], [s6].[Id10], [r62].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r62].[Id1], [r63].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_trunk_and_branch_duplicated(bool async)
    {
        await base.Select_trunk_and_branch_duplicated(async);

        AssertSql(
            """
SELECT [r0].[RelationshipsRootEntityId], [r0].[Name], [r].[Id], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[Name], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [s].[Name0], [s].[Name1], [s].[Name2], [r1].[Name], [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[Id1], [r11].[Name], [r2].[Name], [r3].[Name], [r4].[Name], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[Id1], [r12].[Name], [r5].[Name], [r6].[Name], [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r13].[Id1], [r13].[Name], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[Id1], [s0].[Name], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsBranchEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsBranchEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsBranchEntityId11], [s0].[Id10], [s0].[Name0], [s0].[Name1], [s0].[Name2], [r18].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r18].[Id1], [r18].[Name], [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r19].[Id1], [r19].[Name], [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r20].[Id1], [r20].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_OptionalReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch] AS [r4] ON [r0].[RelationshipsRootEntityId] = [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r5] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r6] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[Id1], [r7].[Name], [r8].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r8].[RelationshipsBranchEntityId1], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r9].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r10].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r10].[Id1] AS [Id10], [r10].[Name] AS [Name0], [r8].[Name] AS [Name1], [r9].[Name] AS [Name2]
    FROM [Root_OptionalReferenceTrunk_CollectionBranch] AS [r7]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r8] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r8].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r8].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r9] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r9].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r10] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r10].[RelationshipsBranchEntityId1]
) AS [s] ON [r0].[RelationshipsRootEntityId] = [s].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r11] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r12] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r13] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r14].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r14].[Id1], [r14].[Name], [r15].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r15].[RelationshipsBranchEntityId1], [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r16].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r17].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r17].[Id1] AS [Id10], [r17].[Name] AS [Name0], [r15].[Name] AS [Name1], [r16].[Name] AS [Name2]
    FROM [Root_OptionalReferenceTrunk_CollectionBranch] AS [r14]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r15] ON [r14].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r15].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r15].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r16] ON [r14].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r16].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r17] ON [r14].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r17].[RelationshipsBranchEntityId1]
) AS [s0] ON [r0].[RelationshipsRootEntityId] = [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r18] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r18].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r19] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r20] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[Id1], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[Id1], [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r13].[Id1], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[Id1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsBranchEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsBranchEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsBranchEntityId11], [s0].[Id10], [r18].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r18].[Id1], [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r19].[Id1], [r20].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_trunk_and_trunk_duplicated(bool async)
    {
        await base.Select_trunk_and_trunk_duplicated(async);

        AssertSql(
            """
SELECT [r0].[RelationshipsRootEntityId], [r0].[Name], [r].[Id], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[Name], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [s].[Name0], [s].[Name1], [s].[Name2], [r1].[Name], [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[Id1], [r11].[Name], [r2].[Name], [r3].[Name], [r4].[Name], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[Id1], [r12].[Name], [r5].[Name], [r6].[Name], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[Id1], [s0].[Name], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsBranchEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsBranchEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsBranchEntityId11], [s0].[Id10], [s0].[Name0], [s0].[Name1], [s0].[Name2], [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r17].[Id1], [r17].[Name], [r18].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r18].[Id1], [r18].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_RequiredReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r3] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch] AS [r4] ON [r0].[RelationshipsRootEntityId] = [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r5] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r6] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[Id1], [r7].[Name], [r8].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r8].[RelationshipsBranchEntityId1], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r9].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r10].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r10].[Id1] AS [Id10], [r10].[Name] AS [Name0], [r8].[Name] AS [Name1], [r9].[Name] AS [Name2]
    FROM [Root_RequiredReferenceTrunk_CollectionBranch] AS [r7]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r8] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r8].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r8].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r9] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r9].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r10] ON [r7].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r7].[Id1] = [r10].[RelationshipsBranchEntityId1]
) AS [s] ON [r0].[RelationshipsRootEntityId] = [s].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r11] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r12] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r13].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r13].[Id1], [r13].[Name], [r14].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r14].[RelationshipsBranchEntityId1], [r15].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r15].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r16].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r16].[Id1] AS [Id10], [r16].[Name] AS [Name0], [r14].[Name] AS [Name1], [r15].[Name] AS [Name2]
    FROM [Root_RequiredReferenceTrunk_CollectionBranch] AS [r13]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r14] ON [r13].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r14].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r13].[Id1] = [r14].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r15] ON [r13].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r15].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r13].[Id1] = [r15].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r16] ON [r13].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r13].[Id1] = [r16].[RelationshipsBranchEntityId1]
) AS [s0] ON [r0].[RelationshipsRootEntityId] = [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r17] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r18] ON [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r18].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [r11].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[Id1], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[Id1], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[Id1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s0].[RelationshipsBranchEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s0].[RelationshipsBranchEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsBranchEntityId11], [s0].[Id10], [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r17].[Id1], [r18].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_leaf_trunk_root(bool async)
    {
        await base.Select_leaf_trunk_root(async);

        AssertSql(
            """
SELECT [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[Name], [r0].[RelationshipsRootEntityId], [r0].[Name], [r].[Id], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[RelationshipsRootEntityId], [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[Name], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [s].[Name0], [s].[Name1], [s].[Name2], [r3].[Name], [r18].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r18].[Id1], [r18].[Name], [r4].[Name], [r5].[Name], [r1].[Name], [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r19].[Id1], [r19].[Name], [r6].[Name], [r].[Name], [r].[OptionalReferenceTrunkId], [r].[RequiredReferenceTrunkId], [s1].[RelationshipsRootEntityId], [s1].[Id1], [s1].[Name], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[RelationshipsTrunkEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId10], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId0], [s1].[RelationshipsTrunkEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId11], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId1], [s1].[RelationshipsTrunkEntityId11], [s1].[Id10], [s1].[Name0], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s1].[RelationshipsBranchEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s1].[RelationshipsBranchEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s1].[RelationshipsBranchEntityId11], [s1].[Id100], [s1].[Name00], [s1].[Name1], [s1].[Name2], [s1].[Name3], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId14], [s1].[Id11], [s1].[Name4], [s1].[Name5], [s1].[Name6], [s1].[Name7], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId15], [s1].[Id12], [s1].[Name8], [s1].[Name9], [s1].[Name10], [r7].[Name], [s2].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[Id1], [s2].[Name], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[RelationshipsBranchEntityId1], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s2].[RelationshipsBranchEntityId10], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s2].[RelationshipsBranchEntityId11], [s2].[Id10], [s2].[Name0], [s2].[Name1], [s2].[Name2], [r8].[Name], [r37].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r37].[Id1], [r37].[Name], [r9].[Name], [r10].[Name], [r11].[Name], [r38].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r38].[Id1], [r38].[Name], [r12].[Name], [r13].[Name], [s3].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s3].[Id1], [s3].[Name], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s3].[RelationshipsBranchEntityId1], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s3].[RelationshipsBranchEntityId10], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s3].[RelationshipsBranchEntityId11], [s3].[Id10], [s3].[Name0], [s3].[Name1], [s3].[Name2], [r43].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r43].[Id1], [r43].[Name], [r44].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r44].[Id1], [r44].[Name]
FROM [RootEntities] AS [r]
LEFT JOIN [Root_RequiredReferenceTrunk] AS [r0] ON [r].[Id] = [r0].[RelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch] AS [r1] ON [r0].[RelationshipsRootEntityId] = [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r2] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch] AS [r3] ON [r0].[RelationshipsRootEntityId] = [r3].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r4] ON [r3].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r5] ON [r3].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r6] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk] AS [r7] ON [r].[Id] = [r7].[RelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch] AS [r8] ON [r7].[RelationshipsRootEntityId] = [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r9] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r10] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch] AS [r11] ON [r7].[RelationshipsRootEntityId] = [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r12] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r13] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r14].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r14].[Id1], [r14].[Name], [r15].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r15].[RelationshipsBranchEntityId1], [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r16].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r17].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r17].[Id1] AS [Id10], [r17].[Name] AS [Name0], [r15].[Name] AS [Name1], [r16].[Name] AS [Name2]
    FROM [Root_RequiredReferenceTrunk_CollectionBranch] AS [r14]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r15] ON [r14].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r15].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r15].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r16] ON [r14].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r16].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r16].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r17] ON [r14].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r17].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r14].[Id1] = [r17].[RelationshipsBranchEntityId1]
) AS [s] ON [r0].[RelationshipsRootEntityId] = [s].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r18] ON [r3].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r18].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r19] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r20].[RelationshipsRootEntityId], [r20].[Id1], [r20].[Name], [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r21].[RelationshipsTrunkEntityId1], [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId10], [r24].[RelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsTrunkEntityRelationshipsRootEntityId0], [r24].[RelationshipsTrunkEntityId1] AS [RelationshipsTrunkEntityId10], [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId11], [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsTrunkEntityRelationshipsRootEntityId1], [s0].[RelationshipsTrunkEntityId1] AS [RelationshipsTrunkEntityId11], [s0].[Id1] AS [Id10], [s0].[Name] AS [Name0], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s0].[RelationshipsBranchEntityId1], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId10] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s0].[RelationshipsBranchEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s0].[RelationshipsBranchEntityRelationshipsTrunkEntityId11] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s0].[RelationshipsBranchEntityId11], [s0].[Id10] AS [Id100], [s0].[Name0] AS [Name00], [s0].[Name1], [s0].[Name2], [r21].[Name] AS [Name3], [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId14], [r31].[Id1] AS [Id11], [r31].[Name] AS [Name4], [r22].[Name] AS [Name5], [r23].[Name] AS [Name6], [r24].[Name] AS [Name7], [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId15], [r32].[Id1] AS [Id12], [r32].[Name] AS [Name8], [r25].[Name] AS [Name9], [r26].[Name] AS [Name10]
    FROM [Root_CollectionTrunk] AS [r20]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch] AS [r21] ON [r20].[RelationshipsRootEntityId] = [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r20].[Id1] = [r21].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r22] ON [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r21].[RelationshipsTrunkEntityId1] = [r22].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r23] ON [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r21].[RelationshipsTrunkEntityId1] = [r23].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch] AS [r24] ON [r20].[RelationshipsRootEntityId] = [r24].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r20].[Id1] = [r24].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r25] ON [r24].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r24].[RelationshipsTrunkEntityId1] = [r25].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r26] ON [r24].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r24].[RelationshipsTrunkEntityId1] = [r26].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN (
        SELECT [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r27].[RelationshipsTrunkEntityId1], [r27].[Id1], [r27].[Name], [r28].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r28].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [r28].[RelationshipsBranchEntityId1], [r29].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r29].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId10], [r29].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r30].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r30].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AS [RelationshipsBranchEntityRelationshipsTrunkEntityId11], [r30].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r30].[Id1] AS [Id10], [r30].[Name] AS [Name0], [r28].[Name] AS [Name1], [r29].[Name] AS [Name2]
        FROM [Root_CollectionTrunk_CollectionBranch] AS [r27]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r28] ON [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r28].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r27].[RelationshipsTrunkEntityId1] = [r28].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r27].[Id1] = [r28].[RelationshipsBranchEntityId1]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r29] ON [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r29].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r27].[RelationshipsTrunkEntityId1] = [r29].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r27].[Id1] = [r29].[RelationshipsBranchEntityId1]
        LEFT JOIN [Root_CollectionTrunk_CollectionBranch_CollectionLeaf] AS [r30] ON [r27].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r30].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r27].[RelationshipsTrunkEntityId1] = [r30].[RelationshipsBranchEntityRelationshipsTrunkEntityId1] AND [r27].[Id1] = [r30].[RelationshipsBranchEntityId1]
    ) AS [s0] ON [r20].[RelationshipsRootEntityId] = [s0].[RelationshipsTrunkEntityRelationshipsRootEntityId] AND [r20].[Id1] = [s0].[RelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r31] ON [r21].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r21].[RelationshipsTrunkEntityId1] = [r31].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
    LEFT JOIN [Root_CollectionTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r32] ON [r24].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r24].[RelationshipsTrunkEntityId1] = [r32].[RelationshipsBranchEntityRelationshipsTrunkEntityId1]
) AS [s1] ON [r].[Id] = [s1].[RelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r33].[Id1], [r33].[Name], [r34].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r34].[RelationshipsBranchEntityId1], [r35].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r35].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r36].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r36].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r36].[Id1] AS [Id10], [r36].[Name] AS [Name0], [r34].[Name] AS [Name1], [r35].[Name] AS [Name2]
    FROM [Root_OptionalReferenceTrunk_CollectionBranch] AS [r33]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r34] ON [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r34].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r33].[Id1] = [r34].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r35] ON [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r35].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r33].[Id1] = [r35].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_OptionalReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r36] ON [r33].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r36].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r33].[Id1] = [r36].[RelationshipsBranchEntityId1]
) AS [s2] ON [r7].[RelationshipsRootEntityId] = [s2].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r37] ON [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r37].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_OptionalReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r38] ON [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r38].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN (
    SELECT [r39].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r39].[Id1], [r39].[Name], [r40].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r40].[RelationshipsBranchEntityId1], [r41].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r41].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId10], [r42].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [r42].[RelationshipsBranchEntityId1] AS [RelationshipsBranchEntityId11], [r42].[Id1] AS [Id10], [r42].[Name] AS [Name0], [r40].[Name] AS [Name1], [r41].[Name] AS [Name2]
    FROM [Root_RequiredReferenceTrunk_CollectionBranch] AS [r39]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_OptionalReferenceLeaf] AS [r40] ON [r39].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r40].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r39].[Id1] = [r40].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_RequiredReferenceLeaf] AS [r41] ON [r39].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r41].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r39].[Id1] = [r41].[RelationshipsBranchEntityId1]
    LEFT JOIN [Root_RequiredReferenceTrunk_CollectionBranch_CollectionLeaf] AS [r42] ON [r39].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r42].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AND [r39].[Id1] = [r42].[RelationshipsBranchEntityId1]
) AS [s3] ON [r0].[RelationshipsRootEntityId] = [s3].[RelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r43] ON [r3].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r43].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r44] ON [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r44].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [r0].[RelationshipsRootEntityId], [r1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r6].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r7].[RelationshipsRootEntityId], [r8].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r9].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r10].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r11].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r12].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r13].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Id1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityId1], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s].[RelationshipsBranchEntityId10], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s].[RelationshipsBranchEntityId11], [s].[Id10], [r18].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r18].[Id1], [r19].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r19].[Id1], [s1].[RelationshipsRootEntityId], [s1].[Id1], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[RelationshipsTrunkEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId10], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId0], [s1].[RelationshipsTrunkEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId11], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId2], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId12], [s1].[RelationshipsTrunkEntityRelationshipsRootEntityId1], [s1].[RelationshipsTrunkEntityId11], [s1].[Id10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId3], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId13], [s1].[RelationshipsBranchEntityId1], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId00], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId100], [s1].[RelationshipsBranchEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId10], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId110], [s1].[RelationshipsBranchEntityId11], [s1].[Id100], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId4], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId14], [s1].[Id11], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId5], [s1].[RelationshipsBranchEntityRelationshipsTrunkEntityId15], [s1].[Id12], [s2].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[Id1], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s2].[RelationshipsBranchEntityId1], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s2].[RelationshipsBranchEntityId10], [s2].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s2].[RelationshipsBranchEntityId11], [s2].[Id10], [r37].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r37].[Id1], [r38].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r38].[Id1], [s3].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s3].[Id1], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s3].[RelationshipsBranchEntityId1], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [s3].[RelationshipsBranchEntityId10], [s3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId1], [s3].[RelationshipsBranchEntityId11], [s3].[Id10], [r43].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r43].[Id1], [r44].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_subquery_root_set_required_trunk_FirstOrDefault_branch(bool async)
    {
        await base.Select_subquery_root_set_required_trunk_FirstOrDefault_branch(async);

        AssertSql(
            """
SELECT [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Name], [r].[Id], [s].[Id], [s].[RelationshipsRootEntityId], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[Id1], [r5].[Name], [s].[Name0], [s].[Name1]
FROM [RootEntities] AS [r]
OUTER APPLY (
    SELECT TOP(1) [r2].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[Name], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[Name] AS [Name0], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r4].[Name] AS [Name1], [r0].[Id], [r1].[RelationshipsRootEntityId]
    FROM [RootEntities] AS [r0]
    LEFT JOIN [Root_RequiredReferenceTrunk] AS [r1] ON [r0].[Id] = [r1].[RelationshipsRootEntityId]
    LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch] AS [r2] ON [r1].[RelationshipsRootEntityId] = [r2].[RelationshipsTrunkEntityRelationshipsRootEntityId]
    LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_OptionalReferenceLeaf] AS [r3] ON [r2].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
    LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_RequiredReferenceLeaf] AS [r4] ON [r2].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
    ORDER BY [r0].[Id]
) AS [s]
LEFT JOIN [Root_RequiredReferenceTrunk_RequiredReferenceBranch_CollectionLeaf] AS [r5] ON [s].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [s].[Id], [s].[RelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    public override async Task Select_subquery_root_set_optional_trunk_FirstOrDefault_branch(bool async)
    {
        await base.Select_subquery_root_set_optional_trunk_FirstOrDefault_branch(async);

        AssertSql(
            """
SELECT [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[Name], [r].[Id], [s].[Id], [s].[RelationshipsRootEntityId], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r5].[Id1], [r5].[Name], [s].[Name0], [s].[Name1]
FROM [RootEntities] AS [r]
OUTER APPLY (
    SELECT TOP(1) [r2].[RelationshipsTrunkEntityRelationshipsRootEntityId], [r2].[Name], [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [r3].[Name] AS [Name0], [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId] AS [RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r4].[Name] AS [Name1], [r0].[Id], [r1].[RelationshipsRootEntityId]
    FROM [RootEntities] AS [r0]
    LEFT JOIN [Root_OptionalReferenceTrunk] AS [r1] ON [r0].[Id] = [r1].[RelationshipsRootEntityId]
    LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch] AS [r2] ON [r1].[RelationshipsRootEntityId] = [r2].[RelationshipsTrunkEntityRelationshipsRootEntityId]
    LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_OptionalReferenceLeaf] AS [r3] ON [r2].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r3].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
    LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_RequiredReferenceLeaf] AS [r4] ON [r2].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r4].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
    ORDER BY [r0].[Id]
) AS [s]
LEFT JOIN [Root_OptionalReferenceTrunk_OptionalReferenceBranch_CollectionLeaf] AS [r5] ON [s].[RelationshipsTrunkEntityRelationshipsRootEntityId] = [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
ORDER BY [r].[Id], [s].[Id], [s].[RelationshipsRootEntityId], [s].[RelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId], [s].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId0], [r5].[RelationshipsBranchEntityRelationshipsTrunkEntityRelationshipsRootEntityId]
""");
    }

    private void AssertSql(params string[] expected)
        => Fixture.TestSqlLoggerFactory.AssertBaseline(expected);
}
